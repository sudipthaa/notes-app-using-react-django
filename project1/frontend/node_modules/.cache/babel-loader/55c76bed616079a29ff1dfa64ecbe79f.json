{"ast":null,"code":"import _defineProperty from\"/Users/sudipthaathmaraman/Downloads/React-Django-master/project1/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/sudipthaathmaraman/Downloads/React-Django-master/project1/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/sudipthaathmaraman/Downloads/React-Django-master/project1/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";import axios from\"axios\";import List from\"./List\";import AddIcon from\"@material-ui/icons/Add\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Note(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isExpanded=_useState2[0],setExpanded=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),rows=_useState4[0],setRows=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),notes=_useState6[0],setNewNotes=_useState6[1];var _useState7=useState({title:\"\",content:\"\"}),_useState8=_slicedToArray(_useState7,2),formNote=_useState8[0],setFormNote=_useState8[1];useEffect(function(){getNotes();},[]);function getNotes(){axios({method:\"GET\",url:\"/notes/\"}).then(function(response){var data=response.data;setNewNotes(data);}).catch(function(error){if(error.response){console.log(error.response);console.log(error.response.status);console.log(error.response.headers);}});}function createNote(event){axios({method:\"POST\",url:\"/notes/\",data:{title:formNote.title,content:formNote.content}}).then(function(response){getNotes();});setFormNote({title:\"\",content:\"\"});setExpanded(false);event.preventDefault();}function DeleteNote(id){axios({method:\"DELETE\",url:\"/notes/\".concat(id,\"/\")}).then(function(response){getNotes();});}function handleChange(event){var _event$target=event.target,value=_event$target.value,name=_event$target.name;setFormNote(function(prevNote){return _objectSpread(_objectSpread({},prevNote),{},_defineProperty({},name,value));});}function NoteShow(){setExpanded(true);setRows(3);}return/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"create-note\",children:[isExpanded&&/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,text:formNote.title,name:\"title\",placeholder:\"Title\",value:formNote.title}),/*#__PURE__*/_jsx(\"textarea\",{onClick:NoteShow,onChange:handleChange,name:\"content\",placeholder:\"Take a note...\",rows:rows,value:formNote.content}),isExpanded&&/*#__PURE__*/_jsx(\"button\",{onClick:createNote,children:/*#__PURE__*/_jsx(AddIcon,{})})]}),notes&&notes.map(function(note){return/*#__PURE__*/_jsx(List,{id:note.id,title:note.title,content:note.content,deletion:DeleteNote},note.id);})]});}export default Note;","map":{"version":3,"sources":["/Users/sudipthaathmaraman/Downloads/React-Django-master/project1/frontend/src/components/Notes.jsx"],"names":["useState","useEffect","axios","List","AddIcon","Note","isExpanded","setExpanded","rows","setRows","notes","setNewNotes","title","content","formNote","setFormNote","getNotes","method","url","then","response","data","catch","error","console","log","status","headers","createNote","event","preventDefault","DeleteNote","id","handleChange","target","value","name","prevNote","NoteShow","map","note"],"mappings":"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","sourcesContent":["import {useState, useEffect} from \"react\";\nimport axios from \"axios\";\nimport List from \"./List\"\nimport AddIcon from \"@material-ui/icons/Add\";\n\nfunction Note() {\n    const [isExpanded, setExpanded]= useState(false)\n    const [rows, setRows]= useState(1)\n\n    const [notes , setNewNotes] = useState(null)\n    const [formNote, setFormNote] = useState({\n      title: \"\",\n      content: \"\"\n    })\n\n    useEffect(() => {\n      getNotes()\n        } ,[])\n\n    function getNotes() {\n      axios({\n          method: \"GET\",\n          url:\"/notes/\",\n        }).then((response)=>{\n          const data = response.data\n          setNewNotes(data)\n        }).catch((error) => {\n          if (error.response) {\n            console.log(error.response);\n            console.log(error.response.status);\n            console.log(error.response.headers);\n            }\n        })}\n\n    function createNote(event) {\n        axios({\n          method: \"POST\",\n          url:\"/notes/\",\n          data:{\n            title: formNote.title,\n            content: formNote.content\n           }\n        })\n        .then((response) => {\n          getNotes()\n        })\n\n        setFormNote(({\n          title: \"\",\n          content: \"\"}))\n        setExpanded(false)\n        event.preventDefault()\n    }\n\n    function DeleteNote(id) {\n        axios({\n          method: \"DELETE\",\n          url:`/notes/${id}/`,\n        })\n        .then((response) => {\n          getNotes()\n        })\n    }\n\n    function handleChange(event) { \n        const {value, name} = event.target\n        setFormNote(prevNote => ({\n            ...prevNote, [name]: value})\n        )}\n\n    function NoteShow(){\n        setExpanded(true)\n        setRows(3)\n      }\n\n  return (\n\n     <div className=''>\n\n        <form className=\"create-note\">\n          {isExpanded && <input onChange={handleChange} text={formNote.title} name=\"title\" placeholder=\"Title\" value={formNote.title} />}\n          <textarea onClick={NoteShow} onChange={handleChange} name=\"content\" placeholder=\"Take a note...\" rows={rows} value={formNote.content} />\n          {isExpanded && <button onClick={createNote}>\n                            <AddIcon />\n                        </button>}\n        </form>\n\n        { notes && notes.map(note => <List\n        key={note.id}\n        id={note.id}\n        title={note.title}\n        content={note.content} \n        deletion ={DeleteNote}\n        />\n        )}\n\n    </div>\n\n  );\n}\n\nexport default Note;\n"]},"metadata":{},"sourceType":"module"}